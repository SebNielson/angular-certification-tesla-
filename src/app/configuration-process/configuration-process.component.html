<div class="top-bar">
  <button class="steps"
          (click)="switchToStep(1)"
          id="step1">
    Step 1
  </button>

  <button class="steps"
          (click)="switchToStep(2)"
          [disabled]="selectedTesla()?.selectedColorIndex === undefined"
          id="step2">
    Step 2
  </button>

  <button class="steps"
          (click)="switchToStep(3)"
          [disabled]="selectedTesla()?.selectedConfigurationIndex === undefined"
          id="step3">
    Step 3
  </button>
</div>

<div>
  <app-model-selection
    *ngIf="currentStep === 1"
    [teslaModels]="teslaModels()"
    [preSelectedModel]="selectedTesla()"
    (chooseModel)="updateSelectedModel($event)"
    (chooseColor)="updateSelectedColor($event)"/>

  <app-options-selection
    *ngIf="currentStep === 2"
    [teslaConfig]="teslaModels()[selectedTesla()?.selectedModelIndex ?? 0].teslaConfiguration"
    [selectedModel]="selectedTesla()"
    (updateSelectedModel)="updateSelectedModelConfiguration($event)"
  />

  <app-summary *ngIf="currentStep === 3" />
</div>

<div>
  <ng-container *ngIf="selectedTesla()">
    <img [ngSrc]="imageLocation()"  width="720" height="480" alt="Tesla car display" />
  </ng-container>
</div>
